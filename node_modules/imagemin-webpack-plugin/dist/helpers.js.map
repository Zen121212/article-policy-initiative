{"version":3,"sources":["../src/helpers.js"],"names":["imageData","imageminOptions","imageBuffer","Buffer","isBuffer","from","originalSize","length","buffer","optimizedImageBuffer","optimizeImage","cacheFolder","content","elseFunc","cacheFilePath","resolve","hashContent","exists","readFile","fileBuffer","writeFile","getFromCacheIfPossible","directory","reject","access","constants","R_OK","W_OK","err","filename","dirname","mkdirpAsync","writeFileAsync","buildTestFunction","invokeIfFunction","templatedFilePath","rawTestValue","minFileSize","maxFileSize","testFunctions","compileRegex","assetSource","func","createHash","update","digest","tests","Array","isArray","map","test","RegExp","regex","Error","fileName","filePath","originalFilePath","replace","split","basename","extname"],"mappings":"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